<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Bot de Señales</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Historial de Señales</h1>
  <button onclick="startBot()">Iniciar Bot</button>
  <button onclick="stopBot()">Detener Bot</button>
  <div id="senal"></div>

  <script>
  async function startBot() {
    try {
      const res = await fetch('/api/start-bot');
      const data = await res.json();
      alert(data.mensaje || "Bot iniciado");
    } catch (e) {
      console.error('Error al iniciar el bot:', e);
      alert("Error al iniciar el bot");
    }
  }

  async function fetchUltimaSenal() {
    try {
      const res = await fetch('/api/ultima-senal');
      const data = await res.json();
      console.log(data.historial);
    } catch (e) {
      console.error('No se pudo obtener la señal:', e);
    }
  }

  setInterval(fetchUltimaSenal, 30000); // cada 30 segundos
</script>

</body>
</html>
